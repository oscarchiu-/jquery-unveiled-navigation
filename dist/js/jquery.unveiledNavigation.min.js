!function(t){t.unveiledNavigation=function(n,e){var o=this,i=t.extend({},t.fn.unveiledNavigation.defaults,e),a=t(n),s=t(window).scrollTop(),r=1,u=0,d=void 0,l=function(){if(!window.getComputedStyle)return!1;var t,n=document.createElement("p"),e={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var o in e)void 0!==n.style[o]&&(n.style[o]="translate3d(1px,1px,1px)",t=window.getComputedStyle(n).getPropertyValue(e[o]));return document.body.removeChild(n),void 0!==t&&t.length>0&&"none"!==t};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();var m=function(){f()},f=function(){t(window).on("scroll",v),v()};this.unveil=function(){a.animate({top:0},{step:function(t){u=t},easing:i.easing,duration:i.duration})},this.cover=function(){a.animate({top:-a.outerHeight()},{step:function(t){u=t},easing:i.easing,duration:i.duration})};var v=function(){a.stop();var n=Math.max(0,t(window).scrollTop()),e=s-n,m=u+e*i.acceleration;m=Math.max(m,-a.outerHeight()-i.offset),m=Math.min(m,0),clearTimeout(d),1==r&&Math.abs(m)<a.outerHeight()&&(d=setTimeout(o.unveil,i.timeout)),a.removeClass(i.upClass).removeClass(i.downClass);var f=r>0?i.upClass:i.downClass;a.addClass(f),n==t(document).height()-t(window).height()&&i.unveilAtBottom&&o.unveil(),0==n?a.addClass(i.topClass):n>a.outerHeight()&&a.removeClass(i.topClass),requestAnimFrame(function(){a.css(l?{transform:"translate3d(0,"+m+"px, 0)"}:{top:m})}),u=m,s=n,r=e?e/Math.abs(e):r};m()},t.fn.unveiledNavigation=function(n){return this.each(function(){if(void 0===t(this).data("unveiledNavigation")){var e=new t.unveiledNavigation(this,n);t(this).data("unveiledNavigation",e)}})},t.fn.unveiledNavigation.defaults={offset:0,acceleration:1,topClass:"at-top",upClass:"",downClass:"",timeout:300,easing:"swing",duration:500,unveilAtBottom:!0}}(jQuery);