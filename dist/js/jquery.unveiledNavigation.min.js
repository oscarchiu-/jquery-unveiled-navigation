!function(t){t.unveiledNavigation=function(n,o){var e=this,a=t.extend({},t.fn.unveiledNavigation.defaults,o),i=t(n),s=t(window).scrollTop(),r=1,u=0,l=void 0,d=function(){if(!window.getComputedStyle)return!1;var t,n=document.createElement("p"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var e in o)void 0!==n.style[e]&&(n.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(n).getPropertyValue(o[e]));return document.body.removeChild(n),void 0!==t&&t.length>0&&"none"!==t},f=function(){m()},m=function(){t(window).on("scroll",v),v()};this.unveil=function(){i.animate({top:0},{step:function(t){u=t},easing:a.easing,duration:a.duration})},this.cover=function(){i.animate({top:-i.outerHeight()},{step:function(t){u=t},easing:a.easing,duration:a.duration})};var v=function(){i.stop();var n=Math.max(0,t(window).scrollTop()),o=s-n,f=u+o*a.acceleration;f=Math.max(f,-i.outerHeight()-a.offset),f=Math.min(f,0),clearTimeout(l),1==r&&Math.abs(f)<i.outerHeight()&&(l=setTimeout(e.unveil,a.timeout)),i.removeClass(a.upClass).removeClass(a.downClass);var m=r>0?a.upClass:a.downClass;i.addClass(m),n==t(document).height()-t(window).height()&&a.unveilAtBottom&&e.unveil(),0==n?i.addClass(a.topClass):n>i.outerHeight()&&i.removeClass(a.topClass),d?(i.css({transform:"translate3d(0,"+f+"px, 0)"}),console.log(f)):i.css({top:f}),u=f,s=n,r=o?o/Math.abs(o):r};f()},t.fn.unveiledNavigation=function(n){return this.each(function(){if(void 0===t(this).data("unveiledNavigation")){var o=new t.unveiledNavigation(this,n);t(this).data("unveiledNavigation",o)}})},t.fn.unveiledNavigation.defaults={offset:0,acceleration:1,topClass:"at-top",upClass:"",downClass:"",timeout:300,easing:"swing",duration:500,unveilAtBottom:!0}}(jQuery);